// Generated by ToffeeScript 1.6.3-2
(function() {
  var BUCKET_NAME, DOMAIN, content, err, filename, path, qiniu, ret,
    _this = this;

  qiniu = require('qiniu');

  path = require('path');

  qiniu.conf.ACCESS_KEY = "ppt_6Ck2Px_fFlLE125iHU7EP1MPwYQvVJYd0fv9";

  qiniu.conf.SECRET_KEY = "1HqcnqgtjEtuPOOJbteNUe34QnPxpaD11kXiDYSj";

  BUCKET_NAME = "mofang-statics";

  DOMAIN = " http://sts0.mofang.com/";

  function uploadToQiniu(filename, content, next) {
    var extra, putPolicy, uptoken;
    putPolicy = new qiniu.rs.PutPolicy("" + BUCKET_NAME + ":" + filename);
    uptoken = putPolicy.token();
    extra = new qiniu.io.PutExtra();
    if (/\.js$/ig.test(filename)) {
      extra.mimeType = "application/x-javascript";
    }
    return qiniu.io.put(uptoken, filename, content, extra, next);
  };

  function removeFile(filename) {
    var client, entry, err, ret,
      _this = this;
    client = new qiniu.rs.Client();
    entry = new qiniu.rs.EntryPath(BUCKET_NAME, filename);
    client.batchDelete([entry], function() {
      err = arguments[0], ret = arguments[1];
      return console.log(err, ret);
    });
  };

  module.exports.uploadToQiniu = uploadToQiniu;

  if (require.main === module) {
    filename = "test2.js";
    content = "111con";
    uploadToQiniu(filename, content, function() {
      err = arguments[0], ret = arguments[1];
      return console.log(err, ret);
    });
  }

}).call(this);
